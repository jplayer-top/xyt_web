<!DOCTYPE html>
<html>
<!-- https://element.faas.ele.me/#/zh-CN/component/layout -->
	<head>
		<meta http-equiv="content-type" content="text/html" charset="utf-8">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
	</head>

	<body>
		<div id="app">
			<el-row>
				<el-col :span="24">
					<div class="grid-content">
					<h4 class="title" v-text='info["title"]'></h4>
					</div>
				</el-col>
			</el-row>
			<el-row>
			<el-col :span="24">
				<div class="grid-content">
					<h4 class="title" v-text='info["title"]'></h4>
				</div>
			</el-col>
			</el-row>

			<el-col :span="24">
				<div class="grid-content">
					<span class="text_small" v-text='info["ct"]'></span>
				</div>
			</el-col>
			<el-col :span="24">
				<div class="grid-content text_middle">
					<span v-text='info["description"]'></span>
				</div>
			</el-col>
			<div> <img src="img/avatar.png" class="img_border" ></div>
		</div>
	</body>
	<!-- import Vue before Element -->
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
	<!-- import JavaScript -->
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<script>
		new Vue({
			el: '#app',
			data: function() {
				return {
					visible: false,
					title: "学艺团官方活动",
					description : "",
					info : {
						
					}
				}
			},
			created: function() {
				this.GetRequest();
			},
			methods: {
				GetRequest: function() {
					var url = location.search; 
					var theRequest = new Object();
					if (url.indexOf("?") != -1) {
						var str = url.substr(1);
						strs = str.split("&");
						for (var i = 0; i < strs.length; i++) {
							theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
						}
					}
					this.getJson(theRequest["id"]);
				},
				getJson: function(id) {
					var self = this;
					axios.get('http://123.206.45.111:8080/xytuan/api/home/topinfo?id='+id)
						.then(function(response) {
							self.info = response.data["info"]
							console.log(self.info)
						})
						.catch(function(error) {
							console.log(error);
						});
				}
			}
		})
	</script>
	
	<style>
		.title{
			font-size: 20px;
			margin: 10px;
		}
		.text_small{
			font-size: 12px;
			margin-left: 10px;
			color: #999999;
		}
		.text_middle{
			font-size: 14px;
			margin: 10px;
			color: #666666;
			letter-spacing: 3px
		}
		.img_border{
			width: 100px;
			height: 100px;
			border-radius: 90px;
		}
	</style>
